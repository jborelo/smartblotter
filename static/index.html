<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" href="production/images/fa-handshake-o-sm.png">
    <title>Trade Blotter @ Infosys </title>

    <!-- Bootstrap -->
    <link href="vendors/bootstrap/dist/css/v4/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="build/css/custom.css" rel="stylesheet">
</head>




<body class="bg-black">
    <div class="container bg-black">

        <!--   Navigation Bar    -->
        <section id="nav w-100 p-0">
            <nav class="navbar navbar-toggleable-md navbar-light bg-blue-nav text-center p-1 m-0" style="height: 35px">

                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" style="padding: 0">
                     <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="" style="padding: 0; padding-left: 10px"><i class="fa fa-handshake-o fa-2x light">INFOSYS Smart Blotter</i></a>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#content">
                                <i class="fa fa-home" aria-hidden="true" style="padding-right: 3px"></i> Dashboard <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index2.html" target="_blank"><i class="fa fa-table" aria-hidden="true" style="padding-right: 3px"></i>Reports</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#footer"><i class="fa fa-info" aria-hidden="true" style="padding-right: 3px"></i>About</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </section>
        <!--   End of Navigation Bar    -->

        <!--   Main content window    -->
        <section id="content">
           
            <div class="container p-1 bg-black" role="main">
                <div class="row text-justify p-0 pl-5 w-100" style="height: 10%">
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> TTF | <b> 2500 </b> | <i class="green"> 4% </i></span>
                    </div>
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> PEG Nord | <b class="red"> -123.50 </b> | <i class="fa fa-sort-desc red"></i> -3%</span>
                    </div>
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> NBP | <b class="green"> 2,500 </b> | <i class="fa fa-sort-asc green"></i>  34%</span>
                    </div>
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> USD | <b class="green"> 0.75782 </b> | <i class="fa fa-sort-asc green"></i>  2%</span>
                    </div>
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> EUR | <b class="red"> 0.90819 </b> | <i class="fa fa-sort-desc red"></i>  -0.3%</span>
                    </div>
                    <div class="col-md-2 col-sm-2 col-xs-6 tile_stats_count pt-1 pb-1">
                        <span class=""><i class="fa fa-area-chart"></i> JPY | <b class="red"> 0.006967 </b> | <i class="fa fa-sort-desc red"></i>  -0.01%</span>
                    </div>
                </div>

                <div class="row w-100 pl-4" style="height: 45%">

                    <!-- Blotter ChatRoom -->
                    <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                        <div class="x_panel p-0 bg-grey-panel pr-3 m-0 h-100">
                            <div class="x_content pb-0 pt-2 pr-3 pl-3 m-0 pre-scrollable text-justify pr-3 pl-3" id="appendConversation" style="height: 85%">
                            </div>
                            <div class="clearfix"></div>
                            <div class="x_content w-100 text-center m-0 p-0 pt-1">
                                <input class="col-8 bg-black" type="text" name="slackText" id="slackText">
                                <button class="col-3 btn btn-primary bg-black p-1 pt-1 mt-1" role="button" id="btnSubmitRecap" onclick="slackSend()">Submit</button>
                            </div>
                        </div>
                    </div>
                    <!-- Blotter End of ChatRoom -->

                    <!-- 3rd Part ChatRoom -->

                    <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                        <div class="x_panel p-0 bg-grey-panel h-100 ">
                            <div class="x_content p-0 pr-1 pl-1">
                                <div class="dashboard-widget-content text-justify pr-3 pl-3" id="appendConversation" style="height: 20em">
                                    3rd Part Conversation Block (i.e Skype, Slack, Google Hangouts etc.)
                                </div>
                                <div class="clearfix"></div>
                                <br/>
                            </div>
                        </div>
                    </div>

                    <!-- End of 3rd Part ChatRoom -->


                    <!-- Newsfeed -->
                    <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
                        <div class="x_panel p-0 bg-grey-panel h-100">
                            <div class="x_content p-0 pr-1 pl-1">
                                <div class=" pre-scrollable middlebar_content_inner style-2 text-justify p-0 pl-2 pr-2" style="height: 23em" id="xnews">
                                    <ul class="middlebar_nav p-3">
                                        <li>
                                            <a class="mbar_thubnail" href="#"><img class="pt-1"src="production/images/ico/UK/flag_ico.png" alt=""></a> <b class="blue">UK Gas Market Rallies on the back of the Oil market</b> <br/> <small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ipsum dolor sit amet, consectetur adipisicing elit...</small></li>
                                        <li>
                                            <a class="mbar_thubnail" href="#"><img class="pt-1"src="production/images/ico/UK/ship_ico.png" alt=""></a> <b class="blue"> Spark spreads narrow as gas market tightens </b> <br/> <small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ipsum dolor sit amet, consectetur adipisicing elit...</small></li>
                                        <li>
                                            <a class="mbar_thubnail" href="#"><img class="pt-1"src="production/images/ico/UK/hands_ico.png" alt=""></a> <b class="blue"> Norway supplies to UK slip </b> <br/> <small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ipsum dolor sit amet, consectetur adipisicing elit...</small></li>
                                        <li>
                                            <a class="mbar_thubnail" href="#"><img class="pt-1"src="production/images/ico/UK/city_ico.png" alt=""></a> <b class="blue"> NBP holding up despite falling power prices </b> <br/> <small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Lorem ipsum dolor sit amet, consectetur adipisicing elit...</small></li>
                                    </ul>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                    <!-- End of Newsfeed -->


                    <!--   Price Feed section         -->
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="x_panel bg-grey-panel w-100 h-100">
                            <div class="x_content p-0 text-center" id="xtable">
                                <img class="img-fluid" src="production/images/MahulContent/tblUK-Electricity-Baseload-GRG.png" alt="">
                            </div>
                        </div>
                    </div>
                    <!--  End of Price Feed section   -->
                </div>
                <div class="row p-2"></div>
                
                <!-- Structured Data -->
                <div class="row w-100 pl-4 h-50">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="x_panel bg-grey-panel text-center p-0" style="height: 95%">
                            <div class="x_content p-0 m-0 " style="height: 90%">
                                <iframe class="p-0 m-0 " src="https://docs.google.com/spreadsheets/d/179hCtu13Divv0vMU5J0M-j6clcS9meMmPRyJ9te92xA/edit?rm=minimal&widget=false&chrome=false&ampheaders=false&amp" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" style="width:100%; height: 100%; position: relative; overflow: hidden"></iframe>
                            </div>
                            <div class="x_content w-100 text-center p-1 w-100" style="height: 5%">
                                    <button class="col-3 btn btn-primary bg-black p-1 w-100" role="button" id="btnSubmitRecap" onclick="copySheet()">Submit confirmed transactions</button>
                            </div>
                         </div>
                    </div>

                    <!-- Chart section-->
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="x_panel p-0 bg-grey-panel" style="height: 95%">
                            <div class="x_content p-0 pr-1 pl-1 text-center h-100" id="xgraph">
                                <img class="img-fluid p-2 w-100" src="production/images/MahulContent/Crude_Oil_Brent_grey.png" alt="" style="height: 100%">
                            </div>
                        </div>
                    </div>
                    <!-- End of chart section-->
            </div>
            </div>    
        </section>
        <!--   End of main content window    -->

        <!--   Footer   -->
        <section id="footer">

        </section>
        <!--  End of Footer   -->
    </div>

    <!-- Scripts  -->

    <!-- jQuery -->
    <script src="vendors/jquery/dist/jquery.min.js"></script>

    <script>
            $(document).ready(function(){
                setInterval(function(){

                                $.getJSON('https://bloter-im-message-072017.herokuapp.com/getEvents',
                                {},
                                function(data)
                                {
                                        if (data.slack.status === "New") {
                                                $("#appendConversation").append(data.slack.result);
                                                $('#appendConversation').animate({scrollTop: $('#appendConversation').prop("scrollHeight")}, 500);
                                        }

                                        if (data.graph.status === "New") {
                                                $("#xgraph").html(data.graph.result);
                                        }
                                         if (data.table.status === "New") {
                                                $("#xtable").html(data.table.result);
                                        }
                                         if (data.news.status === "New") {
                                                $("#xnews").html(data.news.result);
                                        }
                                  });
                        },3000);
            });

    </script>

    <script>
            //$('#slackText').click(slackSend());
            function copySheet(){

                $.getJSON('https://bloter-im-message-072017.herokuapp.com/copyConfirm',
                {},
                                function(data)
                                {
					alert("Submitted");
                                  });

            };


    </script>



    <script>
            //$('#slackText').click(slackSend());
            function slackSend(){
                //some code

                var slackText = $("#slackText").val()
                var jsonData = JSON.stringify({ "text": slackText })

//$.ajax({
//  type: "POST",
//  url: "https://hooks.slack.com/services/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",
//  data: jsonData,
//  contentType: "application/json; charset=utf-8",
//  success: function(data){$("#slackText").val("");},
//  dataType: "json"
//});

                $.post("https://hooks.slack.com/services/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",
                        jsonData,
                        'json'
                ).done(function(data) {
                        $("#slackText").val("");
                })

            };


    </script>


    <!-- Bootstrap -->
    <script src="vendors/bootstrap/dist/js/v4/bootstrap.min.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="build/js/custom.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script>
        google.charts.load('current', {
            'packages': ['corechart']
        });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['24.01', 2320.26, 2327.26, 2403.26, 2428.26],
                ['25.01', 2410.26, 2399.26, 2364.26, 2354.26],
                ['28.01', 2354.26, 2354.26, 2354.26, 2354.26],
                ['29.01', 2354.26, 2348.98, 2337.35, 2333.87],
                ['30.01', 2333.87, 2323.87, 2347.89, 2353.76],
                ['31.01', 2353.76, 2355.76, 2383.76, 2391.82],
                ['01.02', 2381.82, 2391.82, 2417.02, 2419.02],
                ['05.02', 2411.15, 2417.02, 2433.39, 2437.42],
                ['06.02', 2432.68, 2434.48, 2427.07, 2441.73],
                ['07.02', 2430.69, 2418.53, 2394.22, 2433.89],
                ['08.02', 2416.62, 2432.45, 2414.48, 2443.03],
                ['18.02', 2441.91, 2421.56, 2415.43, 2444.48],
                ['19.02', 2420.26, 2382.91, 2373.53, 2427.07],
                ['20.02', 2383.49, 2397.18, 2370.61, 2397.94],
                ['21.02', 2378.82, 2325.95, 2309.17, 2378.82],
                ['22.02', 2322.94, 2314.16, 2308.76, 2330.88],
                ['25.02', 2320.62, 2325.82, 2315.01, 2338.78],
                ['26.02', 2289.89, 2340.71, 2313.74, 2293.34],
                ['27.02', 2297.77, 2313.22, 2292.03, 2324.63],
                ['28.02', 2308.92, 2366.16, 2322.32, 2365.59],
                //                ['Mon', 20, 28, 38, 45],
                //                ['Tue', 31, 38, 55, 66],
                //                ['Wed', 50, 55, 77, 80],
                //                ['Thu', 77, 77, 66, 50],
                //                ['Fri', 68, 66, 22, 15]
                // Treat first row as data as well.
            ], true);

            var options = {
                legend: 'none',

            };

            var chart = new google.visualization.CandlestickChart(document.getElementById('chart_div'));

            chart.draw(data, options);
        }
    </script>

</body>

